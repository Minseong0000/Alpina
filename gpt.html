<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <style>
    body,
    html {
      margin: 0;
      padding: 0;
      height: 100%;
      overflow: hidden;
    }

    section {
      height: 100vh;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 2em;
      transition: transform 0.5s ease;
    }
  </style>
</head>

<body>
  <section style="background-color: lightcoral;">Section 1</section>
  <section style="background-color: lightblue;">Section 2</section>
  <section style="background-color: lightgreen;">Section 3</section>

  <script>
    document.addEventListener('DOMContentLoaded', function () {
      const sections = document.querySelectorAll('section');
      let currentSectionIndex = 0;
      let isScrolling = false;

      function scrollToSection(index) {
        if (index >= 0 && index < sections.length) {
          sections[index].scrollIntoView({ behavior: 'smooth' });
          currentSectionIndex = index;
        }
      }

      function debounce(func, wait) {
        let timeout;
        return function (...args) {
          const later = () => {
            clearTimeout(timeout);
            func(...args);
          };
          clearTimeout(timeout);
          timeout = setTimeout(later, wait);
        };
      }

      const handleScroll = debounce((event) => {
        if (isScrolling) return;
        isScrolling = true;

        if (event.deltaY > 0) {
          // Scrolling down
          if (currentSectionIndex < sections.length - 1) {
            scrollToSection(currentSectionIndex + 1);
          }
        } else {
          // Scrolling up
          if (currentSectionIndex > 0) {
            scrollToSection(currentSectionIndex - 1);
          }
        }

        setTimeout(() => { isScrolling = false; }, 1000);
      }, 100);

      window.addEventListener('wheel', handleScroll);

      const handleKeyDown = debounce((event) => {
        if (event.key === 'ArrowDown') {
          // Arrow down key
          if (currentSectionIndex < sections.length - 1) {
            scrollToSection(currentSectionIndex + 1);
          }
        } else if (event.key === 'ArrowUp') {
          // Arrow up key
          if (currentSectionIndex > 0) {
            scrollToSection(currentSectionIndex - 1);
          }
        }
      }, 100);

      window.addEventListener('keydown', handleKeyDown);
    });
  </script>
</body>

</html>